---
title: js面试
date: 2022-04-03 18:25:38
tags: [js,函数变量提升,闭包,词法作用域,let|const|var]
about: [面试]
---

##### 命名提升

```js
fn1()
function fn1(){}
//不报错
fn2
let fn2=function(){} 
//报错
```

##### 闭包知识点

> 《你不知道的javaScript》对于闭包是这么定义的：函数创建和函数执行不在同一个作用域下就会形成闭包。
> MDN对于闭包的定义为：闭包是指那些能够访问自由变量的函数。
> 《JS高级程序设计-第3版》对于闭包的定义: 闭包是指有权访问另外一个函数作用域中的变量的函数

###### 作用域和词法作用域

词法作用域就是写出的程序所在的环境

```
function fn1(){
let a=1
 	return function(){
   		console.log(++a)
 	}
}
let f=fn1()
f()//2定义在内部
```

###### 词法环境

```js
var a=0
function fn1(){
var a=1
return fn2()
}
function fn2(){
console.log(++a)
}//1定义在外部
//不能使用const
```



执行上下文: Execution Context Stack）

#### 闭包

##### 关键词:词法作用域;执行上下文;v8垃圾回收机制

通俗的讲就是函数a的内部函数b，被函数a外部的一个变量引用的时候，就创建了一个闭包。

函数返回函数

###### 优点

1. 内部变量
2. 不会污染全局变量

###### 缺点

1. 内存泄露
2. 浪费内存



#### let   const    var

###### var:

1. 声明提升,不会报错
2. 没有块级作用域{}会变成全局变量
3. 可以重复命名

###### let

1. 不能重复定义
2. 块级作用域
3. 无变量提升
4. 暂时性死区:块级作用域内含有lei,则不会看全局的变量
5. 函数内不能声明形参

###### const

1. 声明简单数据类型不能改变
2. 声明后必须赋值
3. 有let 的特性

##### weakSet: WeakSet对象只可以存储对象数据，且只能有唯一值。尝试插入非对象数据类型时，会触发报错。add,delete,has

WeakSet存储的对象，如果没有其他的引用的话，这个对象将会被垃圾回收。这就是冠以 Weak 的原因，同时也意味着，WeakSet是不可枚举的，也就没有size

##### weakMap:键名只能是对象

###### toString(2):转化为二进制

------

writedocument.write 只能重绘整个页面
innerHTML 可以重绘页面的一部分





0.1+0.2

js采用64位双精度,符号位(1)指数位(11)有效位(52)



defer async

defer : 文档加载完毕后window.onload触发之前  

async: 异步下载好了就会执行













































